<div class="wrapper">
  <ng-container *ngIf="isLoading(); else loaded">
    <div class="loading">Caricamento in corsoâ€¦</div>
  </ng-container>

  <ng-template #loaded>
    <div class="error" *ngIf="errorMessage() as error">
      {{ error }}
    </div>

    <ng-container *ngIf="competition() as competition; else emptyState">
      <ng-container [ngSwitch]="competition.type">
        <app-elimination-bracket *ngSwitchCase="'elimination'"
          [competition]="competition"
          [rounds]="rounds()"
          [readonly]="true">
        </app-elimination-bracket>

        <app-group-knockout *ngSwitchCase="'group_knockout'"
          [competition]="competition"
          [groups]="groups()"
          [qualifiedPlayers]="qualifiedPlayers()"
          [rounds]="rounds()"
          [matches]="matches()"
          [readonly]="true">
        </app-group-knockout>

        <app-league-board *ngSwitchDefault
          [matches]="matches()"
          [isLoading]="isLoadingMatches()"
          [readonly]="true">
        </app-league-board>
      </ng-container>
    </ng-container>

    <ng-template #emptyState>
      <p class="empty-message">Competizione non trovata.</p>
    </ng-template>
  </ng-template>
</div>
