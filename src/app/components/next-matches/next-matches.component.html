<section class="next-matches">
    <h4 class="title text-center">{{ 'next_matches' | translate }}</h4>
    <div *ngIf="isLoading" class="skeleton next-matches__skeleton">
        <div class="skeleton-card placeholder" *ngFor="let _ of [1,2,3]">
            <div class="skeleton-card__header placeholder"></div>
            <div class="skeleton-card__players">
                <div class="skeleton-card__player placeholder"></div>
                <div class="skeleton-card__vs placeholder"></div>
                <div class="skeleton-card__player placeholder"></div>
            </div>
            <div class="skeleton-card__footer placeholder"></div>
        </div>
    </div>
    <div class="slider swiper next-matches__slider" #swiperEl2 *ngIf="nextMatches.length; else noMatches">
        <div class="swiper-wrapper">
            <div class="swiper-slide" style="margin-right: 16px;"
                *ngFor="let match of nextMatches; trackBy: trackByMatch">
                <article class="match-card">
                    <header class="match-card__header text-center" *ngIf="match?.group_name || match?.groupName">
                        {{ match?.group_name || match?.groupName }}
                    </header>

                    <div class="match-card__players">
                        <div class="match-card__player">
                            <img class="match-card__avatar"
                                [src]="match?.player1?.img || match?.player1_img || '/default-player.jpg'"
                                (error)="onImageError($event)" alt="" />
                            <span class="match-card__name">{{ match?.player1?.name || match?.player1_name }}</span>
                        </div>

                        <span class="match-card__vs">vs</span>

                        <div class="match-card__player">
                            <img class="match-card__avatar"
                                [src]="match?.player2?.img || match?.player2_img || '/default-player.jpg'"
                                (error)="onImageError($event)" alt="" />
                            <span class="match-card__name">{{ match?.player2?.name || match?.player2_name }}</span>
                        </div>
                    </div>
                    <footer class="match-card__footer text-center">
                        <span class="match-card__time">
                            <div *ngIf="match.date; else noDate">
                                <i class="fa fa-clock-o" aria-hidden="true"></i>
                                {{ match.date | date: 'shortDate' }} -
                                {{ match.date | date: 'shortTime' }}
                            </div>
                            <ng-template #noDate>
                                <div style="opacity: 0.5; font-size: 0.75em;">
                                    <i class="fa fa-clock-o" aria-hidden="true"></i>
                                    {{ 'no_date' | translate }}
                                </div>
                                <div class="d-flex justify-content-center">
                                    <button class="mt-1 tertiary" style="font-size: 0.75em;" type="button">
                                        {{ 'define_date' | translate }} 
                                        <i class="fa fa-calendar ms-2" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </ng-template>
                        </span>
                    </footer>
                </article>
            </div>
        </div>
        <button *ngIf="!swiperInstance?.isLocked" type="button" class="swiper-button-prev"
            aria-label="Scroll previous matches"></button>
        <button *ngIf="!swiperInstance?.isLocked" type="button" class="swiper-button-next"
            aria-label="Scroll next matches"></button>
    </div>
</section>

<ng-template #noMatches>
    <p *ngIf="!isLoading" class="no-matches">{{ 'no_next_matches' | translate }}</p>
</ng-template>