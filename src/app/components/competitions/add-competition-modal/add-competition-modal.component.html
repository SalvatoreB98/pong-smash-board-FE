<app-step-indicator [activeStep]="step" [totalSteps]="2"></app-step-indicator>

<div class="steps-wrapper" *ngIf="step == 1">
    <div class="text-center">
        <form class="form-card mt-3" [formGroup]="managementForm">
            <div class="field">
                <span class="label">{{ 'management_type' | translate }}</span>
                <div class="container-choose">
                    <div class="segmented" role="radiogroup" [attr.aria-label]="'management_type' | translate">
                        <label class="seg-item">
                            <input type="radio" value="admin" formControlName="managementCtrl" />
                            <span class="large-img-select">
                                <span>{{ 'admin_only' | translate }}</span>
                                <div class="mt-4">
                                    <i class="fa fa-user fa-3x" aria-hidden="true"></i>
                                    <i class="fa fa-lock ms-1" aria-hidden="true"></i>
                                </div>
                                <p class="mt-3">
                                    {{ "management_type_admin" | translate }}
                                </p>
                            </span>
                        </label>
                    </div>
                    <div class="segmented" role="radiogroup" [attr.aria-label]="'management_type' | translate">
                        <label class="seg-item">
                            <input type="radio" value="self" formControlName="managementCtrl" />
                            <span class="large-img-select">
                                <span>{{ 'free_management' | translate }}</span>
                                <div class="mt-4">
                                    <i class="fa fa-users fa-3x" aria-hidden="true"></i>
                                    <i class="fa fa-unlock" aria-hidden="true"></i>
                                </div>
                                <p class="mt-3">
                                    {{ "management_type_self" | translate }}
                                </p>
                            </span>
                        </label>
                    </div>
                </div>
            </div>
        </form>
        <div style="position: absolute; bottom: 0; right: 0; margin: 2em;">
            <button class="primary mt-3" (click)="nextStep()" [disabled]="managementForm.invalid">
                {{ 'next_step' | translate }}
            </button>
        </div>
    </div>
</div>

<div class="steps-wrapper" *ngIf="step == 2">
    <form class="form-card mt-3" [formGroup]="competitionForm">
        <!-- Nome -->
        <label class="field">
            <span class="label">{{ 'competition_name_label' | translate }}</span>
            <input class="input" type="text" [placeholder]="'competition_name_placeholder' | translate"
                formControlName="nameCtrl" autocomplete="off" />
            <small class="error" *ngIf="nameCtrl.invalid && nameCtrl.touched">
                {{ 'competition_name_error_minlength' | translate }}
            </small>
        </label>

        <!-- Tipologia -->
        <div class="field">
            <span class="label">{{ 'competition_type_label' | translate }}</span>
            <div class="segmented" role="radiogroup" [attr.aria-label]="'competition_type_label' | translate">

                <label class="seg-item">
                    <input type="radio" value="league" formControlName="typeCtrl" />
                    <span class="large-img-select">
                        <span>{{ 'competition_type_league' | translate }}</span>
                        <img width="50px" height="50px" src="/numbered-list.png" alt="">
                    </span>
                </label>

                <label class="seg-item disabled">
                    <div class="not-available">
                        {{ 'not_available' | translate }}
                        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
                    </div>
                    <!-- <input type="radio" value="elimination" formControlName="typeCtrl"/> -->
                    <span class="large-img-select">
                        <span class="marquee">
                            <span>
                                {{ 'competition_type_elimination' | translate }}
                            </span>
                        </span>
                        <!-- <svg width="75" height="50" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg"
                            stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
                            <line x1="5" y1="5" x2="13" y2="5" />
                            <line x1="5" y1="11" x2="13" y2="11" />
                            <line x1="5" y1="17" x2="13" y2="17" />
                            <line x1="5" y1="23" x2="13" y2="23" />
                            <line x1="13" y1="5" x2="13" y2="11" />
                            <line x1="13" y1="17" x2="13" y2="23" />
                            <line x1="13" y1="8" x2="21" y2="8" />
                            <line x1="13" y1="20" x2="21" y2="20" />
                            <line x1="21" y1="8" x2="21" y2="20" />
                            <line x1="21" y1="14" x2="29" y2="14" />
                            <line x1="29" y1="14" x2="29" y2="14" />
                            <line x1="29" y1="14" x2="40" y2="14" />
                        </svg> -->
                    </span>
                </label>

                <label class="seg-item disabled">
                    <div class="not-available">
                        {{ 'not_available' | translate }}
                        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
                    </div>
                    <!-- <input type="radio" value="hybrid" formControlName="typeCtrl" [disabled]="true" /> -->
                    <span class="large-img-select">
                        <span>{{ 'competition_type_group_knockout' | translate }}</span>
                        <!-- <img width="50px" height="50px" src="/numbered-list.png" alt=""> -->
                    </span>
                </label>
            </div>
        </div>

        <!-- Set: meglio di 3 o 5 -->
        <div class="field">
            <span class="label">{{ 'competition_sets_label' | translate }}</span>
            <div class="segmented" role="radiogroup" [attr.aria-label]="'competition_sets_label' | translate">
                <label class="seg-item">
                    <input type="radio" formControlName="setsCtrl" [value]="2" />
                    <span>2</span>
                </label>
                <label class="seg-item">
                    <input type="radio" formControlName="setsCtrl" [value]="3" />
                    <span>3</span>
                </label>
                <label class="seg-item">
                    <input type="radio" formControlName="setsCtrl" [value]="5" />
                    <span>5</span>
                </label>
            </div>
        </div>

        <!-- Punti: a 11 o a 21 -->
        <div class="field">
            <span class="label">{{ 'competition_points_label' | translate }}</span>
            <div class="segmented" role="radiogroup" [attr.aria-label]="'competition_points_label' | translate">
                <label class="seg-item">
                    <input type="radio" formControlName="pointsCtrl" [value]="11" />
                    <span>11</span>
                </label>
                <label class="seg-item">
                    <input type="radio" formControlName="pointsCtrl" [value]="21" />
                    <span>21</span>
                </label>
            </div>
        </div>
        <div class="field flex-grow-1"></div>
        <div class="d-flex justify-content-between" style="justify-items: end;">
            <button class="primary bg-contrast mt-3" (click)="back()">
                {{ 'back' | translate }}
            </button>
            <button class="primary mt-3 flex-grow-1 ms-3" (click)="submit()" [disabled]="competitionForm.invalid">
                {{ 'competition_action_create' | translate }}
            </button>
        </div>
    </form>
</div>